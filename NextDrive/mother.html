<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car Information</title>
    <style>
        /* CSS for styling the car rows */
        .car-row {
            border-bottom: 1px solid #ccc;
            padding: 10px 0;
            display: flex;
            align-items: center;
            cursor: pointer; /* Change cursor to indicate interactivity */
            transition: max-height 0.5s ease; /* Apply transition effect */
            overflow: hidden; /* Hide overflow content */
            position: relative; /* Enable absolute positioning for expanded info */
        }
        .car-info {
            flex: 1;
            padding: 0 10px;
        }
        .car-image {
            max-width: 100px;
            height: auto;
            margin-right: 20px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Welcome to Car Information</h1>

    <div>
        <label for="makeFilter">Make:</label>
        <select id="makeFilter">
            <option value="">All</option>
            <option value="Toyota">Toyota</option>
            <option value="Honda">Honda</option>
            <option value="Ford">Ford</option>
            <option value="Tesla">Tesla</option>
            <option value="Chevrolet">Chevrolet</option>
            <option value="BMW">BMW</option>
            <option value="Audi">Audi</option>
            <option value="Mercedes-Benz">Mercedes-Benz</option>
        </select>
        
        <label for="modelFilter">Model:</label>
        <select id="modelFilter">
            <option value="">All</option>
            <option value="Camry">Camry</option>
            <option value="Accord">Accord</option>
            <option value="F-150">F-150</option>
            <option value="Model S">Model S</option>
            <option value="Camaro">Camaro</option>
            <option value="X5">X5</option>
            <option value="A4">A4</option>
            <option value="C-Class">C-Class</option>
        </select>
        
        <label for="yearFilter">Year:</label>
        <select id="yearFilter">
            <option value="">All</option>
            <option value="2018">2018</option>
            <option value="2019">2019</option>
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
        </select>
        
        <label for="priceMin">Price Min:</label>
        <input type="number" id="priceMin" min="0">
        
        <label for="priceMax">Price Max:</label>
        <input type="number" id="priceMax" min="0">
        
        <label for="mileageMin">Mileage Min:</label>
        <input type="number" id="mileageMin" min="0">
        
        <label for="mileageMax">Mileage Max:</label>
        <input type="number" id="mileageMax" min="0">
        
        <label for="sortBy">Sort by:</label>
        <select id="sortBy">
            <option value="make">Make</option>
            <option value="model">Model</option>
            <option value="year">Year</option>
            <option value="price">Price</option>
            <option value="mileage">Mileage</option>
        </select>
        
        <label for="sortOrder">Sort order:</label>
        <select id="sortOrder">
            <option value="asc">Ascending</option>
            <option value="desc">Descending</option>
        </select>
    

        <!-- Other filter elements -->

        <!-- "More Info" Modal -->
        <div id="moreInfoModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="moreInfoContent"></div>
            </div>
        </div>
    </div>

    <div id="carList">
        <!-- Car information will be dynamically added here -->
    </div>

    <script>
        // Sample car data with placeholder image URLs
        var cars = [
            { make: "Toyota", model: "Camry", year: 2020, price: 25000, mileage: 30000, image: "https://via.placeholder.com/150" },
            { make: "Honda", model: "Accord", year: 2019, price: 27000, mileage: 25000, image: "https://via.placeholder.com/150" },
            { make: "Ford", model: "F-150", year: 2021, price: 35000, mileage: 15000, image: "https://via.placeholder.com/150" },
            { make: "Tesla", model: "Model S", year: 2022, price: 80000, mileage: 10000, image: "https://via.placeholder.com/150" },
            { make: "Chevrolet", model: "Camaro", year: 2018, price: 40000, mileage: 20000, image: "https://via.placeholder.com/150" },
            { make: "BMW", model: "X5", year: 2020, price: 60000, mileage: 18000, image: "https://via.placeholder.com/150" },
            { make: "Audi", model: "A4", year: 2019, price: 45000, mileage: 22000, image: "https://via.placeholder.com/150" },
            { make: "Mercedes-Benz", model: "C-Class", year: 2021, price: 55000, mileage: 12000, image: "https://via.placeholder.com/150" }
        ];
        
        // Function to display cars
        function displayCars(cars) {
            var carList = document.getElementById("carList");
            carList.innerHTML = ""; // Clear previous content
            
            cars.forEach(function(car, index) {
                var carDiv = document.createElement("div");
                carDiv.classList.add("car-row"); // Add class for styling
                carDiv.innerHTML = "<img src='" + car.image + "' class='car-image'>" +
                "<div class='car-info'><strong>Make:</strong> " + car.make + "</div>" +
                "<div class='car-info'><strong>Model:</strong> " + car.model + "</div>" +
                "<div class='car-info'><strong>Year:</strong> " + car.year + "</div>" +
                "<div class='car-info'><strong>Price:</strong> $" + car.price.toLocaleString() + "</div>" +
                "<div class='car-info'><strong>Mileage:</strong> " + car.mileage.toLocaleString() + " miles</div>" +
                "<button class='more-info-btn' data-index='" + index + "'>More Info</button>"; // Add More Info button
                
                carList.appendChild(carDiv);
            });
            
            // Reattach event listeners for "More Info" buttons
            attachMoreInfoEventListeners();
        }
        
        // Function to attach event listeners for "More Info" buttons
        function attachMoreInfoEventListeners() {
            var moreInfoBtns = document.querySelectorAll(".more-info-btn");
            moreInfoBtns.forEach(function(btn) {
                btn.addEventListener("click", function(event) {
                    event.stopPropagation();
                    var carIndex = parseInt(btn.getAttribute("data-index"));
                    var car = cars[carIndex];
                    displayMoreInfo(car);
                });
            });
        }
        
        // Initial display
        displayCars(cars);
        
        // Event listeners for filter selects and inputs
        var makeFilter = document.getElementById("makeFilter");
        var modelFilter = document.getElementById("modelFilter");
        var yearFilter = document.getElementById("yearFilter");
        var priceMin = document.getElementById("priceMin");
        var priceMax = document.getElementById("priceMax");
        var mileageMin = document.getElementById("mileageMin");
        var mileageMax = document.getElementById("mileageMax");
        var sortBy = document.getElementById("sortBy");
        var sortOrder = document.getElementById("sortOrder");
        
        [makeFilter, modelFilter, yearFilter, priceMin, priceMax, mileageMin, mileageMax, sortBy, sortOrder].forEach(function(element) {
            element.addEventListener("change", filterAndSort);
        });
        
        // Function to filter and sort cars
        function filterAndSort() {
            var filteredCars = cars.filter(function(car) {
                return (makeFilter.value === "" || car.make === makeFilter.value) &&
                (modelFilter.value === "" || car.model === modelFilter.value) &&
                (yearFilter.value === "" || car.year == yearFilter.value) &&
                (priceMin.value === "" || car.price >= parseInt(priceMin.value)) &&
                (priceMax.value === "" || car.price <= parseInt(priceMax.value)) &&
                (mileageMin.value === "" || car.mileage >= parseInt(mileageMin.value)) &&
                (mileageMax.value === "" || car.mileage <= parseInt(mileageMax.value));
            });
            
            // Sorting
            var sortByValue = sortBy.value;
            var sortOrderValue = sortOrder.value;
            
            filteredCars.sort(function(a, b) {
                if (sortOrderValue === "asc") {
                    return a[sortByValue] - b[sortByValue];
                } else {
                    return b[sortByValue] - a[sortByValue];
                }
            });
            
            displayCars(filteredCars);
        }
        
        // More Info Modal
        var modal = document.getElementById("moreInfoModal");
        var moreInfoContent = document.getElementById("moreInfoContent");
        
        // Event listener for "Close" button in the modal
        var closeBtn = document.getElementsByClassName("close")[0];
        closeBtn.onclick = function() {
            modal.style.display = "none";
        };
        
        // Event listener for clicking outside the modal to close it
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };
        
        // Function to display more info modal
        function displayMoreInfo(car) {
            moreInfoContent.innerHTML = "<strong>Make:</strong> " + car.make + "<br>" +
            "<strong>Model:</strong> " + car.model + "<br>" +
            "<strong>Year:</strong> " + car.year + "<br>" +
            "<strong>Price:</strong> $" + car.price.toLocaleString() + "<br>" +
            "<strong>Mileage:</strong> " + car.mileage.toLocaleString() + " miles";
            modal.style.display = "block";
        }
    </script>


</body>
</html>
